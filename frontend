npx create-next-app@latest client
npm install axios
npm install zod
npm install @hookform/resolvers
npm install react-hook-form


问题的根本原因在于重定向循环机制：
问题分析
无限循环的触发点:
access_token和refresh_token过期
刷新token失败→触发重定向到登录页
重定向后，代码没有识别"这是刚刚重定向来的"
登录页加载时又检查认证状态→循环开始
关键修复点:
添加了防止重复重定向的检查(if (!window.location.pathname.includes('/login')))
使用sessionStorage作为标记传递机制
登录页面识别并尊重这个标记，跳过自动认证检查
循环链路切断:
API层: 只在非登录页时才重定向
路由层: 识别特殊URL参数redirected=true
组件层: 检查并清除sessionStorage标记
这种问题在前端常见但难以调试，因为涉及多层代码交互，特别是认证系统这种跨越前后端的复杂逻辑。